<<<<<<< HEAD
# 2048
 经典益智游戏 2048 的 Android 原生实现
=======
# 2048 游戏 - Android 原生实现

<div align="center">
  <h3>🎮 经典益智游戏 2048 的 Android 原生实现</h3>
  <p>支持基础玩法和多种高级特性</p>
</div>

## ✨ 功能特性

### 🎯 基础功能
- ✅ **经典 4x4 网格** - 标准 2048 游戏玩法
- ✅ **流畅手势操作** - 支持上下左右滑动
- ✅ **精美动画效果** - 方块移动、合并、弹出动画
- ✅ **分数统计** - 实时显示当前分数和最高分
- ✅ **游戏状态检测** - 自动检测胜利和失败

### 🚀 高级特性
- ✅ **撤销功能** - 支持撤销最近 5 步操作
- ✅ **智能提示** - AI 算法推荐最佳移动方向
- ✅ **自动保存** - 游戏进度自动保存，随时恢复
- ✅ **游戏统计** - 记录总游戏次数、移动次数等数据
- ✅ **震动反馈** - 可配置的触觉反馈
- ✅ **音效设置** - 支持开关音效和震动
- ✅ **Material Design 3** - 现代化 UI 设计

## 📱 截图预览

```
┌─────────────────────────────┐
│  2048                    ⋮  │
├─────────────────────────────┤
│  ┌─────────┐  ┌─────────┐  │
│  │  分数   │  │ 最高分  │  │
│  │   128   │  │   512   │  │
│  └─────────┘  └─────────┘  │
│        移动: 45             │
│  ┌─────────────────────┐   │
│  │  2  │  4  │  8  │ 16 │  │
│  │ 32  │ 64  │128  │ 2  │  │
│  │  4  │  8  │ 16  │ 32 │  │
│  │  2  │  4  │  8  │  4 │  │
│  └─────────────────────┘   │
│  ┌────┐ ┌────┐ ┌────┐     │
│  │重开│ │撤销│ │提示│     │
│  └────┘ └────┘ └────┘     │
└─────────────────────────────┘
```

## 🎮 游戏玩法

### 基本规则
1. **滑动屏幕** - 向上/下/左/右滑动移动所有方块
2. **合并方块** - 相同数字的方块碰撞后会合并
3. **达到 2048** - 合并出 2048 方块即可获胜
4. **继续挑战** - 获胜后可以继续游戏挑战更高分数

### 高级技巧
- 🎯 **保持最大值在角落** - 将最大的方块固定在某个角落
- 🎯 **保持单调性** - 尽量让相邻方块数值相近
- 🎯 **留出空间** - 避免填满整个棋盘
- 🎯 **使用提示** - 遇到困难时可以使用智能提示功能

## 🛠️ 技术栈

- **语言**: Kotlin 1.9.0
- **最低 SDK**: Android 5.0 (API 21)
- **目标 SDK**: Android 14 (API 34)
- **架构**: MVVM
- **UI**: Material Design 3
- **数据持久化**: DataStore
- **异步处理**: Kotlin Coroutines
- **依赖注入**: 手动依赖注入

## 📦 项目结构

```
Game2048/
├── app/
│   ├── src/
│   │   ├── main/
│   │   │   ├── java/com/game/puzzle2048/
│   │   │   │   ├── data/              # 数据层
│   │   │   │   │   └── GamePreferences.kt
│   │   │   │   ├── engine/            # 游戏引擎
│   │   │   │   │   └── GameEngine.kt
│   │   │   │   ├── model/             # 数据模型
│   │   │   │   │   ├── Direction.kt
│   │   │   │   │   ├── GameState.kt
│   │   │   │   │   └── Tile.kt
│   │   │   │   ├── view/              # 自定义视图
│   │   │   │   │   └── GameView.kt
│   │   │   │   ├── viewmodel/         # ViewModel
│   │   │   │   │   ├── GameViewModel.kt
│   │   │   │   │   └── GameViewModelFactory.kt
│   │   │   │   └── MainActivity.kt
│   │   │   ├── res/                   # 资源文件
│   │   │   │   ├── layout/
│   │   │   │   ├── values/
│   │   │   │   ├── menu/
│   │   │   │   └── xml/
│   │   │   └── AndroidManifest.xml
│   │   └── test/
│   └── build.gradle
├── build.gradle
├── settings.gradle
└── README.md
```

## 🚀 快速开始

### 环境要求
- Android Studio Hedgehog | 2023.1.1 或更高版本
- JDK 8 或更高版本
- Android SDK API 34

### 安装步骤

1. **克隆项目**
```bash
cd /Users/keywung/chaodong_app/Game2048
```

2. **打开项目**
- 使用 Android Studio 打开项目
- 等待 Gradle 同步完成

3. **运行项目**
- 连接 Android 设备或启动模拟器
- 点击运行按钮 (▶️) 或使用快捷键 `Shift + F10`

4. **构建 APK**
```bash
./gradlew assembleRelease
```
生成的 APK 位于: `app/build/outputs/apk/release/`

## 🎨 核心功能实现

### 1. 游戏引擎 (GameEngine)
```kotlin
// 核心算法
- 方块移动与合并算法
- 游戏状态检测（胜利/失败）
- 撤销功能（保存历史状态）
- AI 提示算法（评估棋盘状态）
```

### 2. 自定义视图 (GameView)
```kotlin
// 绘制与动画
- Canvas 绘制网格和方块
- 手势检测（滑动识别）
- 动画效果（弹出、缩放）
- 颜色渐变（根据数值）
```

### 3. 数据持久化
```kotlin
// DataStore 存储
- 最高分记录
- 游戏统计数据
- 用户设置（音效、震动）
- 游戏状态自动保存
```

## 🎯 高级特性详解

### 撤销功能
- 最多保存最近 5 步操作
- 使用快照模式保存游戏状态
- 撤销后自动更新 UI

### 智能提示算法
提示算法基于以下评估标准：
1. **空格数量** - 空格越多越好
2. **单调性** - 相邻方块值相近更优
3. **最大值位置** - 最大值在角落加分
4. **合并机会** - 评估可合并的方块数量

### 动画系统
- **弹出动画** - 新方块出现时的缩放效果
- **移动动画** - 方块移动的平滑过渡
- **合并动画** - 方块合并时的视觉反馈

## 📊 游戏统计

应用会自动记录以下数据：
- 📈 总游戏次数
- 🎯 总移动次数
- 📊 平均移动次数
- 🏆 历史最高分

## ⚙️ 设置选项

- 🔊 **音效开关** - 控制游戏音效
- 📳 **震动开关** - 控制触觉反馈
- 🎨 **主题切换** - 支持多种配色方案（待实现）

## 🔧 自定义与扩展

### 修改网格大小
```kotlin
// 在 GameEngine.kt 中修改
class GameEngine(private val gridSize: Int = 4) {
    // 可以改为 5x5 或 6x6
}
```

### 添加新主题
```xml
<!-- 在 colors.xml 中添加新配色 -->
<color name="tile_custom">#YOUR_COLOR</color>
```

### 扩展功能建议
- [ ] 添加排行榜功能
- [ ] 实现多种游戏模式（3x3, 5x5, 6x6）
- [ ] 添加成就系统
- [ ] 支持在线对战
- [ ] 添加每日挑战

## 🐛 已知问题

暂无已知问题

## 📝 更新日志

### v1.0.0 (2024-11-05)
- ✨ 初始版本发布
- ✅ 实现基础 2048 游戏玩法
- ✅ 添加撤销功能
- ✅ 添加智能提示
- ✅ 实现数据持久化
- ✅ 添加游戏统计

## 🤝 贡献指南

欢迎提交 Issue 和 Pull Request！

1. Fork 本项目
2. 创建特性分支 (`git checkout -b feature/AmazingFeature`)
3. 提交更改 (`git commit -m 'Add some AmazingFeature'`)
4. 推送到分支 (`git push origin feature/AmazingFeature`)
5. 开启 Pull Request

## 📄 许可证

本项目采用 MIT 许可证 - 详见 [LICENSE](LICENSE) 文件

## 👨‍💻 作者

Created with ❤️ by AI Assistant

## 🙏 致谢

- 感谢原版 2048 游戏的创作者
- 感谢 Android 开发社区的支持
- 感谢所有贡献者

## 📮 联系方式

如有问题或建议，欢迎通过以下方式联系：
- 📧 Email: your.email@example.com
- 💬 Issues: [GitHub Issues](https://github.com/yourusername/Game2048/issues)

---

<div align="center">
  <p>如果这个项目对你有帮助，请给个 ⭐️ Star 支持一下！</p>
</div>
>>>>>>> 551bca6 (Initial commit: 2048 Game Android App)
